<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Learn English</title>

  <!-- PWA Meta -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0078D4">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <!-- Styles & Confetti -->
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>

  <!-- ğŸŒ™ Theme Toggle -->
  <div id="theme-toggle">
    <button onclick="toggleTheme()" id="theme-icon" title="Toggle theme">ğŸŒ™</button>
  </div>

  <!-- ğŸš€ Splash Screen -->
  <div id="splash-screen">
    <h1>Learn English</h1>
    <p>See. Listen. Speak.</p>
  </div>

  <!-- ğŸ‘‹ Welcome Screen -->
  <div id="welcome-screen" style="display: none;">
    <h2>Welcome, Learner!</h2>
    <label for="username">Your Name:</label>
    <input type="text" id="username" placeholder="Type your name" />

    <h3>Select Difficulty Level:</h3>
    <div class="difficulty-buttons">
      <button onclick="startTest('easy')">ğŸŸ¢ Easy</button>
      <button onclick="startTest('medium')">ğŸŸ¡ Medium</button>
      <button onclick="startTest('advanced')">ğŸ”´ Advanced</button>
    </div>
  </div>

  <!-- ğŸ’¬ Phrase Screen -->
  <div id="phrase-screen" style="display: none;">
    <div id="loader" style="display: none;">
      <div class="spinner"></div>
      <p>Loading phrases...</p>
    </div>

    <div id="hinglish-phrase" class="phrase"></div>
    <div id="english-translation" class="phrase" style="display: none;"></div>

    <div class="controls">
      <button onclick="revealTranslation()">Show</button>
      <button onclick="nextPhrase()">Next</button>
      <button onclick="exitApp()">Exit</button>
    </div>

 <div id="progress-container">
  <div id="progress-text">Progress: 0 / 0</div>
  <div id="progress-bar"></div>
</div>


  <!-- ğŸ‰ Celebration Screen -->
  <div id="celebration" style="display: none;">
    <h2>ğŸ‰ Great job, <span id="user-name"></span>!</h2>
    <p>Youâ€™ve completed all phrases!</p>
    <button onclick="continueLevel()">ğŸ” Continue Same Level</button>
    <button onclick="restartApp()">ğŸ Restart</button>
  </div>

  <!-- ğŸ”Š Cheer Sound -->
  <audio id="cheer-sound" src="sounds/APPLAUSE.WAV" preload="auto"></audio>

  <!-- ğŸ§  App Logic -->
  <script src="app.js"></script>

  <!-- âœ… Service Worker Registration -->
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker
          .register("service-worker.js")
          .then(() => console.log("âœ… Service Worker registered successfully."))
          .catch((err) => console.warn("Service Worker registration failed:", err));
      });
    }
  </script>
</body>
</html>
